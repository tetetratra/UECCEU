
<div class="container">

  <%= form_with(url: year_courses_search_path, local: true, method: :get, class: '') do |f| %>
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-4">
        <div class="form-group form-inline">
          <%= f.label('„Ç≥„É°„É≥„Éà„ÇΩ„Éº„Éà', class: 'input-group-text', for: 'comment_sort') %>
          <%= f.select(:comment_sort, options_for_select({"-" => :none, 'Â§ö„ÅÑÈ†Ü' => :desc}, @pre_params[:comment_sort]), {}, class: 'form-control' ) %>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-4">
        <div class="form-group form-inline">
          <%= f.label('Ë™≤Á®ã', class: 'input-group-text', for: 'curriculum') %>
          <%= f.text_field :curriculum, value: @pre_params[:curriculum], placeholder: '', class: 'form-control', id: 'curriculum', list: 'curriculum_list' %>
          <datalist id="curriculum_list">
            <% 'ÊÉÖÂ†±ÁêÜÂ∑•Â≠¶Âüü|ÊÉÖÂ†±ÁêÜÂ∑•Â≠¶ÂüüÂ§úÈñì‰∏ª„Ç≥„Éº„Çπ|ÊÉÖÂ†±ÁêÜÂ∑•Â≠¶ÈÉ®|ÊÉÖÂ†±ÁêÜÂ∑•Â≠¶ÈÉ®Â§úÈñì‰∏ª„Ç≥„Éº„Çπ„ÄÄÂÖàÁ´ØÂ∑•Â≠¶Âü∫Á§éË™≤Á®ã|ÊÉÖÂ†±ÁêÜÂ∑•Â≠¶Á†îÁ©∂ÁßëÔºàÂçöÂ£´ÂâçÊúüË™≤Á®ãÔºâÔºà2016ÔΩûÔºâ|ÊÉÖÂ†±ÁêÜÂ∑•Â≠¶Á†îÁ©∂ÁßëÔºàÂçöÂ£´ÂæåÊúüË™≤Á®ãÔºâÔºà2016ÔΩûÔºâ|ÊÉÖÂ†±ÁêÜÂ∑•Â≠¶Á†îÁ©∂ÁßëÔºàÂçöÂ£´ÂâçÊúüË™≤Á®ãÔºâÔºà2010ÔΩûÔºâ|ÊÉÖÂ†±ÁêÜÂ∑•Â≠¶Á†îÁ©∂ÁßëÔºàÂçöÂ£´ÂæåÊúüË™≤Á®ãÔºâÔºà2010ÔΩûÔºâ|ÈõªÊ∞óÈÄö‰ø°Â≠¶ÈÉ®|ÈõªÊ∞óÈÄö‰ø°Â≠¶ÈÉ®„ÄÄÂ§úÈñì‰∏ª„Ç≥„Éº„Çπ|ÈõªÊ∞óÈÄö‰ø°Â≠¶Á†îÁ©∂ÁßëÔºàÂçöÂ£´ÂâçÊúüË™≤Á®ãÔºâ|ÈõªÊ∞óÈÄö‰ø°Â≠¶Á†îÁ©∂ÁßëÔºàÂçöÂ£´ÂæåÊúüË™≤Á®ãÔºâ|ÊÉÖÂ†±„Ç∑„Çπ„ÉÜ„É†Â≠¶Á†îÁ©∂ÁßëÔºàÂçöÂ£´ÂâçÊúüË™≤Á®ãÔºâ|ÊÉÖÂ†±„Ç∑„Çπ„ÉÜ„É†Â≠¶Á†îÁ©∂ÁßëÔºàÂçöÂ£´ÂæåÊúüË™≤Á®ãÔºâ'.split('|').each do |d| %>
              <option value="<%= d %>">
            <% end %>
          </datalist>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-4">
        <div class="form-group form-inline">
          <%= f.label('ÊéàÊ•≠ÁßëÁõÆÂêç', class: 'input-group-text', for: 'course_title_japanese') %>
          <%= f.text_field(:course_title_japanese, value: @pre_params[:course_title_japanese], placeholder: 'Ê≠£Ë¶è|Ë°®Áèæ|ok', class: 'form-control', id: 'course_title_japanese')%>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-4">
        <div class="form-group form-inline">
          <%= f.label('Ëã±ÊñáÊéàÊ•≠ÁßëÁõÆÂêç', class: 'input-group-text', for: 'course_title_english') %>
          <%= f.text_field(:course_title_english, value: @pre_params[:course_title_english], placeholder: '', class: 'form-control', id: 'course_title_english')%>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-4">
        <div class="form-group form-inline">
          <%= f.label('ÊõúÊó•„ÉªÊôÇÈôê', class: 'input-group-text', for: 'day_and_period') %>
          <%= f.text_field :day_and_period, value: @pre_params[:day_and_period], placeholder: '', class: 'form-control', id: 'day_and_period', list: 'day_and_period_list' %>
          <datalist id="day_and_period_list">
            <% '‰ªñ|‰ªñ, ‰ªñ|Êúà1|Êúà1, Êúà2|Êúà1, ÁÅ´1|Êúà2|Êúà2, Êúà3|Êúà2, Êúà3, Êúà4|Êúà2, Êúà4|Êúà2, Êú®2|Êúà2, Ê∞¥4|Êúà3|Êúà3, Êúà4|Êúà3, Êúà4, Ê∞¥3, Ê∞¥4|Êúà3, Êú®2| Êúà3, Ê∞¥3|Êúà4|Êúà4, Ê∞¥4|Êúà5|Êúà5, Êúà6|Êú®1|Êú®2|Êú®2, Êú®3, Êú®4|Êú®3|Êú®3, Êú®4|Êú®4|Êú®5|Êú®5, ‰ªñ|Êú®6, Êú®7|Ê∞¥1|Ê∞¥2|Ê∞¥2, Ê∞¥3, Ê∞¥4|Ê∞¥2, Èáë4|Ê∞¥3|Ê∞¥3, Ê∞¥4|Ê∞¥4|Ê∞¥5|Ê∞¥5, Ê∞¥6|ÁÅ´1|ÁÅ´1, ÁÅ´2|ÁÅ´2|ÁÅ´2, ÁÅ´3|ÁÅ´2, ÁÅ´3, ÁÅ´4|ÁÅ´3|ÁÅ´3, ÁÅ´4|ÁÅ´4|ÁÅ´5|Èáë1|Èáë1, Èáë2|Èáë2|Èáë2, Èáë3|Èáë2, Èáë3, Èáë4|Èáë3|Èáë3, Èáë4|Èáë4|Èáë5'.split('|').each do |d| %>
              <option value="<%= d %>">
            <% end %>
          </datalist>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-4">
        <div class="form-group form-inline">
          <%= f.label('ÊôÇÈñìÂâ≤„Ç≥„Éº„Éâ', class: 'input-group-text', for: 'timetable_code') %>
          <%= f.text_field(:timetable_code, value: @pre_params[:timetable_code], placeholder: '', class: 'form-control', id: 'timetable_code')%>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-4">
        <div class="form-group form-inline">
          <%= f.label('ÈñãË¨õÂπ¥Ê¨°', class: 'input-group-text', for: 'year_offerd') %>
          <%= f.text_field :year_offerd, value: @pre_params[:year_offerd], class: 'form-control', id: 'year_offerd', list: 'year_offerd_list' %>
          <datalist id="year_offerd_list">
            <% '1|1/2|1/2/3|1/2/3/4|2|2/3/4|3|3/4|4'.split('|').each do |d| %>
              <option value="<%= d %>">
            <% end %>
          </datalist>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-4">
        <div class="form-group form-inline">
          <%= f.label('ÈñãË¨õÂ≠¶Êúü', class: 'input-group-text', for: 'semester_offerd') %>
          <%= f.text_field :semester_offerd, value: @pre_params[:semester_offerd], class: 'form-control', id: 'semester_oferd', list: 'semester_offerd_list' %>
          <datalist id="semester_offerd_list">
            <% 'ÂâçÂ≠¶Êúü|ÂæåÂ≠¶Êúü|ÈÄöÂπ¥'.split('|').each do |d| %>
              <option value="<%= d %>">
            <% end %>
          </datalist>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-4">
        <div class="form-group form-inline">
          <%= f.label('ÈñãË¨õ„Ç≥„Éº„Çπ„ÉªË™≤Á®ã', class: 'input-group-text', for: 'faculty_offering_the_course') %>
          <%= f.text_field :faculty_offering_the_course, value: @pre_params[:faculty_offering_the_course], class: 'form-control', id: 'faculty_offering_the_course', list: 'faculty_offering_the_course_list' %>
          <datalist id="faculty_offering_the_course_list">
            <% 'ÊÉÖÂ†±ÁêÜÂ∑•Â≠¶Âüü'.split('|').each do |d| %>
              <option value="<%= d %>">
            <% end %>
          </datalist>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-4">
        <div class="form-group form-inline">
          <%= f.label('Âçò‰ΩçÊï∞', class: 'input-group-text', for: 'credits') %>
          <%= f.select(:credits, options_for_select([nil, *%W[1 2 3 4 5 1‚Üë 2‚Üë 3‚Üë 4‚Üë 5‚Üë]], @pre_params[:credits]), {}, class: 'form-control', id: 'credits') %>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-4">
        <div class="form-group form-inline">
          <%= f.label('ÁßëÁõÆÂå∫ÂàÜ', class: 'input-group-text', for: 'category') %>
          <%= f.text_field :category, value: @pre_params[:category], class: 'form-control', id: 'category', list: 'category_list' %>
          <datalist id="category_list">
            <% 'ÂÆüË∑µÊïôËÇ≤ÁßëÁõÆ|Â∞ÇÈñÄÁßëÁõÆ|ÊïôËÅ∑ÁßëÁõÆ|Á∑èÂêàÊñáÂåñÁßëÁõÆ'.split('|').each do |d| %>
              <option value="<%= d %>">
            <% end %>
          </datalist>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-4">
        <div class="form-group form-inline">
          <%= f.label('ÈñãË¨õÂ≠¶Áßë„ÉªÂ∞ÇÊîª', class: 'input-group-text', for: 'cluster_and_department') %>
          <%= f.text_field :cluster_and_department, value: @pre_params[:cluster_and_department], class: 'form-control', id: 'cluster_and_department', list: 'cluster_and_department_list' %>
          <datalist id="cluster_and_department_list">
            <% '‚Ö†È°û|‚Ö†È°û/‚Ö°È°û|‚Ö°È°û|‚Ö°È°û/‚Ö¢È°û|‚Ö¢È°û|ÊÉÖÂ†±ÁêÜÂ∑•Â≠¶Âüü'.split('|').each do |d| %>
              <option value="<%= d %>">
            <% end %>
          </datalist>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-4">
        <div class="form-group form-inline">
          <%= f.label('ÊãÖÂΩìÊïôÂì°Âêç', class: 'input-group-text', for: 'lecturer') %>
          <%= f.text_field(:lecturer, value: @pre_params[:lecturer], placeholder: '', class: 'form-control', id: 'lecturer')%>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-4">
        <div class="form-group form-inline">
          <%= f.label('ÁßëÁõÆURLÊ§úÁ¥¢', class: 'input-group-text text-uppercase', for: 'url_name') %>
          <%= f.text_field(:url_name, value: @pre_params[:url_name], placeholder: 'ÂâçÊñπ‰∏ÄËá¥', class: 'form-control', id: 'query')%>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-5">
        <div class="form-group form-inline">
          <%= f.label('„Ç∑„É©„Éê„ÇπÂÖ®ÊñáÂçòË™ûÊ§úÁ¥¢', class: 'input-group-text', for: 'query') %>
          <%= f.text_field(:query, value: @pre_params[:query], placeholder: '', class: 'form-control', id: 'query')%>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-3">
        <%= f.submit('Ê§úÁ¥¢', class: 'btn btn-outline-success') %>
      </div>
    </div>
  <% end %>
</div>

<br>
<div class="container">
  <%= paginate @courses %>
</div>

<table class="table table_index table-sm table-bordered">
  <thead class="thead-light">
    <tr class='header_row'>
      <th scope="row" class="comment_count row_tiny">üí¨</th>
      <th scope="row" class="curriculum row_tiny">Ë™≤Á®ã</th>
      <th scope="row" class="course_title_japanese">ÊéàÊ•≠ÁßëÁõÆÂêç</th>
      <th scope="row" class="course_title_english">Ëã±ÊñáÊéàÊ•≠ÁßëÁõÆÂêç</th>
      <th scope="row" class="day_and_period row_small">ÊõúÊó•„ÉªÊôÇÈôê</th>
      <th scope="row" class="timetable_code row_small">ÊôÇÈñìÂâ≤„Ç≥„Éº„Éâ</th>
      <th scope="row" class="year_offerd row_small">ÈñãË¨õÂπ¥Ê¨°</th>
      <th scope="row" class="semester_offerd row_small">ÈñãË¨õÂ≠¶Êúü</th>
      <th scope="row" class="faculty_offering_the_course">ÈñãË¨õ„Ç≥„Éº„Çπ„ÉªË™≤Á®ã</th>
      <th scope="row" class="credits row_tiny">Âçò‰ΩçÊï∞</th>
      <th scope="row" class="category">ÁßëÁõÆÂå∫ÂàÜ</th>
      <th scope="row" class="cluster_and_department">ÈñãË¨õÂ≠¶Áßë„ÉªÂ∞ÇÊîª</th>
      <th scope="row" class="lecturer">ÊãÖÂΩìÊïôÂì°Âêç</th>
      <th scope="row" class="course_website">ÊéàÊ•≠Èñ¢ÈÄ£Web„Éö„Éº„Ç∏</th>
    </tr>
    <% @courses.each do |c| %>
      <tr>
        <td class='comment_count'><%= c.comment_count %></td>
        <td class='curriculum'><%= c.curriculum %></td>
        <td class='course_title_japanese'><%= link_to(c.course_title_japanese, url_for(controller: 'courses', action: 'show', id: c.uniqueslug))%></td>
        <td class='course_title_english'><%= c.course_title_english %></td>
        <td class='day_and_period'><%= c.day_and_period %></td>
        <td class='timetable_code'><%= c.timetable_code %></td>
        <td class='year_offerd'><%= c.year_offerd %></td>
        <td class='semester_offerd'><%= c.semester_offerd %></td>
        <td class='faculty_offering_the_course'><%= c.faculty_offering_the_course %></td>
        <td class='credits'><%= c.credits %></td>
        <td class='category'><%= c.category %></td>
        <td class='cluster_and_department'><%= c.cluster_and_department %></td>
        <td class='lecturer'><%= c.lecturer %></td>
        <td class='course_website' style="word-wrap:break-word;">
          <% if (urls = URI.extract(c.course_website, ['http', 'https'])).empty? %>
            <%= c.course_website %>
          <% else %>
             <% html = urls.inject(c.course_website) do |text, url| %>
               <% text.gsub(url , (link_to url, url)) %>
             <% end %>
             <%= raw html %>
          <% end %>
        </td>
      </tr>
    <% end %>
  </thead>
</table>

<div class="container">
  <%= paginate @courses %>
</div>

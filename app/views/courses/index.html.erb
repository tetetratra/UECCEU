<% breadcrumb :year %>
<%= breadcrumbs pretext: "", separator: " ï¼ " %>

<h1><%= @year %>å¹´åº¦ã®æˆæ¥­ä¸€è¦§</h1>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>

<script type="text/javascript">
$(
  function() {
    $('#search-text').on(
      'input',
      function(){
        var searchText = $(this).val() // æ¤œç´¢ãƒœãƒƒã‚¯ã‚¹ã«å…¥åŠ›ã•ã‚ŒãŸå€¤
        var targetText
        $('table td.title > a').each(function(){
          targetText = $(this).text();
          // æ¤œç´¢å¯¾è±¡ã¨ãªã‚‹ãƒªã‚¹ãƒˆã«å…¥åŠ›ã•ã‚ŒãŸæ–‡å­—åˆ—ãŒå­˜åœ¨ã™ã‚‹ã‹ã©ã†ã‹ã‚’åˆ¤æ–­
          if (targetText.indexOf(searchText) != -1) {
            $(this).parent().parent().removeClass('d-none');
          } else {
            $(this).parent().parent().addClass('d-none');
          }
        })
      }
    )
  }
)
</script>

  <div class="wrapper">
    <div class="search-area">
      <form>
        <input type="text" id="search-text" placeholder="æ¤œç´¢ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›">
      </form>
      <div class="search-result">
        <div class="search-result__hit-num"></div>
        <div id="search-result__list"></div>
      </div>
    </div>
  </div>




<table class="table table_index table-sm">
  <thead class="thead-light">
    <tr>
      <th scope="row" class="row_tiny">ğŸ’¬</th>
      <th scope="row">æˆæ¥­ç§‘ç›®å</th>
      <th scope="row">è‹±æ–‡æˆæ¥­ç§‘ç›®å</th>
      <th scope="row" class="row_small">ç§‘ç›®ç•ªå·</th>
      <th scope="row" class="row_small">é–‹è¬›å¹´æ¬¡</th>
      <th scope="row" class="row_small">é–‹è¬›å­¦æœŸ</th>
      <th scope="row">é–‹è¬›ã‚³ãƒ¼ã‚¹ãƒ»èª²ç¨‹</th>
      <th scope="row" class="row_small">å˜ä½æ•°</th>
      <th scope="row">ç§‘ç›®åŒºåˆ†</th>
      <th scope="row">é–‹è¬›å­¦ç§‘ãƒ»å°‚æ”»</th>
      <th scope="row">æ‹…å½“æ•™å“¡å</th>
      <th scope="row">æˆæ¥­é–¢é€£Webãƒšãƒ¼ã‚¸</th>
    </tr>
    <% @courses.each_with_index do |c, i| %>
      <tr>
        <td class="comment_cnt"><%= c.comments.size %></td>
        <td class='title'><%= link_to(c.course_title_japanese, "/#{@year}/#{c.url_name}/#{c.inner_index}") %></td>
        <td><%= c.course_title_english %></td>
        <td><%= c.code %></td>
        <td><%= c.year_offerd %></td>
        <td><%= c.semester_offerd %></td>
        <td><%= c.faculty_offering_the_course %></td>
        <td><%= c.credits %></td>
        <td><%= c.category %></td>
        <td><%= c.cluster_and_department %></td>
        <td><%= c.lecturer %></td>
        <% if (url = URI.extract(c.course_website).join("\n")).empty? %>
          <td style="word-wrap:break-word;"><%= c.course_website %></td>
        <% else %>
          <td style="word-wrap:break-word;"><%= link_to c.course_website, URI.extract(c.course_website).first %></td>
        <% end %>
      </tr>
    <% end %>
  </thead>
</table>






